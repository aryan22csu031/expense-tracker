<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Expense Tracker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="./assets/css/index.css" />
  </head>
  <body>
    <div class="main">
      <div class="nav">
        <div class="logo">
          <img src="./assets/images/logo.png" alt="logo" id="logo" />
        </div>
        <div class="headline">
          <p>
            Namaste, Hello, Bonjour, Guten Tag !! <br /><span id="title-text"
              >BachatBuddy </span
            ><span class="welcome-effect"></span>
          </p>
        </div>
        <div class="nav-btn">
          <button id="contact-us">Contact Us</button>
          <button id="home">Home</button>
        </div>
        <div class="account">
          <img src="./assets/images/account.png" alt="profile" id="profile" />
        </div>
      </div>
      <div class="log-nav">
        <ul>
          <li><a href="">Login</a></li>
          <li><a href="">Logout</a></li>
        </ul>
      </div>
      <div class="welcome-box">
        <div class="intro-container">
            <div class="intro-img">
                <img src="./assets/images/intro-img.png" alt="">
            </div>
            <div class="intro-text">
                <h1>Meet <span>BachatBuddy</span></h1>
                <p>Your new best friend in managing money and maximizing savings is here. Our detailed weekly and monthly spending summaries, shown in clear visual formats, will help you understand where your money goes. Let's embark on a journey towards financial freedom together and watch your savings grow!</p>
            </div>
          </div>
        <div class="login-form">
            <div class="login-head">
                <h2>Login / Sign up</h2>
                </div>
            <hr>
            <form id="loginForm">
                <label for="email">Email*</label>
                <input type="email" id="log-mail" name="email" placeholder="enter email address" required> <br> <br>
                <label for="password">Password*</label>
                <input type="password" id="log-pass" placeholder="enter password" name="password" required> <br>
                <h6>*required</h6>
                 <br><br>
                <button type="submit" id="login-btn">Login</button>
                <p id="error-message" style="color: red; display: none;">Invalid email or password</p>
            </form>
        </div>
      </div>
      <div class="footer">
        <div class="end-note">
          <h3>BachatBuddy</h3>
          <p>Your personal assistant for smart spending and saving is here to revolutionize the way you manage your finances. Get ready to gain unprecedented insight into your financial habits with our comprehensive weekly and monthly spending summaries, all presented in visually engaging and easy-to-understand formats. Let's embark on this journey together to make every penny count, helping you achieve your financial goals with confidence and ease. </p>
        </div>
        <div class="imp-links">
          <h3>Important Links</h3>
          <ul>
            <li>Home</li>
            <li>About</li>
            <li>Contact</li>
            <li>Our team</li>
            <li>Our Clients</li>
          </ul>
        </div>
        <div class="contact-us">
          <h3>Contact Us</h3>
          <p>Suite 527 592 Clair Skyway <br>
            Marksstad, LA <br>
            51467-0327 <br>
            New York-11987 <br>
            <i class="fa-solid fa-phone"></i> : 917-772-50xx</p>
        </div>
      </div>
      </div>
    </div>
    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
    <script src="./assets/js/index.js"></script>
    <script>
      document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const email = document.getElementById('log-mail').value;
        const password = document.getElementById('log-pass').value;
        const errorMessage = document.getElementById('error-message');

        fetch('http://localhost:3000/api/login', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ email, password }),
        })
        .then(response => response.json())
        .then(data => {
          if (data.message === 'Login successful') {
            window.location.href = 'analysis-form.html';
          } else {
            errorMessage.style.display = 'block';
          }
        })
        .catch(error => {
          console.error('Error:', error);
        });
      });
    </script>
  </body>
</html>
